// @import "/home/evakuator/.gem/ruby/2.7.0/gems/rails-sass-images-2.0.0/lib/assets/stylesheets/rails-sass-images.sass";
// @import "rails-sass-images-2.0.0/lib/assets/stylesheets/rails-sass-images.sass";

$number_of_images : 16;  
$number_of_images_row : 4;  
$number_of_images_col : 4;  
$width: image-width("../images/ararak.jpg");
$height: image-height("../images/ararak.jpg");
$aspect_ratio: $width / $height;
// $container_width: calc(100vw-40px);
// $container_height: calc(100vw-40px);


* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  display: flex;
  align-items: center;
  align-content: center;
  height: 100vh;
}

.container {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: repeat(4, 1fr);
  padding: 1vw;
  gap: 1vw;
  max-width: 1000px;
  // max-height: 100vh;
  // max-width: 100vw;
}

figure {
  position: relative;
  overflow: hidden;
  top:0;
  left:0;
  max-height: 100vh/$number_of_images_col;
  height: 95vw/$aspect_ratio/$number_of_images_row;
  // width: 95vw/$number_of_images_col;
}


figure > .image {
  position: relative;
  // display: block;
  max-width: $width;
  width: 100vw;
  max-height: 100vh;
  // max-height:0;
  // width:0;
  top:100%;
  left:0;
  animation-fill-mode: forwards;
  background-repeat: no-repeat;
  background-image: url('../images/ararak.jpg');
  background-size: 100vw 100vw/$aspect_ratio;
  animation-timing-function: ease-in-out;
  height: 100%;
  // height: 100vw/$aspect_ratio;
}


@for $i from 1 through $number_of_images {
  figure:nth-of-type(#{$i}) .image {
    // object-position: #{-((98vw)/$number_of_images_col)*(($i - 1)%4)} #{-((100vw - 2vw)/$aspect_ratio/$number_of_images_col)*floor(($i - 1)/4)};
    background-position: #{-((98vw)/$number_of_images_col)*(($i - 1)%4)} #{-((100vw - 2vw)/$aspect_ratio/$number_of_images_col)*floor(($i - 1)/4)};
    // background-color: red;
    animation-name: slideIn;
    animation-duration: 10s;
    animation-iteration-count: infinite; 
    animation-delay:  ($i - 1)*0.1 * 1s;
  }
}



@keyframes slideIn
{ 
    0% { top: 100%; }
    5% { top: 0%; left: 0; } 
    30% { top: 0%; left: 0; } 
    40% { left: 100%; top:0;} 
    40.00001% { left: 0; top: 100%;background-image: url('../images/ararak.jpg');} 
    45.00001% { left: 0; top: 100%; background-image: url('../images/karen.jpg');} 
    // 55% { left: 0; top: 100%; } 
    55% { top: 0%; background-image: url('../images/karen.jpg');} 
    75% { top: 0%; background-image: url('../images/karen.jpg');} 
    95% { top: 100%; background-image: url('../images/karen.jpg');} 
    100% { top: 100%; background-image: url('../images/ararak.jpg');} 
    // 95% { top: 100%; background-image: url('../images/ararak.jpg');} 
    // 40.002% { background-image: url('../images/karen.jpg'); } 
    // 50% { top: 0%; background-image: url('../images/karen.jpg'); } 
    // 80% { top: 0%; background-image: ; } 
    // 100% { top: 0%; background-image: url('../images/karen.jpg');} 
} 

@media (min-width:1017px) {
  body{
    display: none;
  }
}



    // 0% { max-height: 0; top: 100%; }
  // 100% { max-height: 100vw/$aspect_ratio; top: 0%; } 

// @for $i from 1 through $number_of_images_row {
//   @for $j from 1 through $number_of_images_col {
//   figure:nth-of-type( ($i - 1 ) * $number_of_image_row + $j) img {
//     object-position: #{-(100vw/$number_of_images_col)*($i - 1)} #{-(100vw/$aspect_ratio/$number_of_images_col)*($i - 1)};
//   }
// }

